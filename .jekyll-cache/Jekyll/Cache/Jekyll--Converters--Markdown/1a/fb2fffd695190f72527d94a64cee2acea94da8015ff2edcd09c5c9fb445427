I"/ì<p>å¾®æœåŠ¡çš„ç‰¹ç‚¹å†³å®šäº†åŠŸèƒ½æ¨¡å—çš„éƒ¨ç½²æ˜¯åˆ†å¸ƒå¼çš„ï¼Œå¤§éƒ¨åˆ†åŠŸèƒ½æ¨¡å—éƒ½æ˜¯è¿è¡Œåœ¨ä¸åŒçš„æœºå™¨ä¸Šï¼Œå½¼æ­¤é€šè¿‡æœåŠ¡è°ƒç”¨è¿›è¡Œäº¤äº’ï¼Œå‰åå°çš„ä¸šåŠ¡æµä¼šç»è¿‡å¾ˆå¤šä¸ªå¾®æœåŠ¡çš„å¤„ç†å’Œä¼ é€’ï¼Œå‡ºç°äº†å¼‚å¸¸å¦‚ä½•å¿«é€Ÿå®šä½æ˜¯å“ªä¸ªç¯èŠ‚å‡ºç°äº†é—®é¢˜ï¼Ÿ</p>

<p>åœ¨è¿™ç§æ¡†æ¶ä¸‹ï¼Œå¾®æœåŠ¡çš„ç›‘æ§æ˜¾å¾—å°¤ä¸ºé‡è¦ã€‚æœ¬æ–‡ä¸»è¦ç»“åˆSpring Boot Actuatorï¼Œè·Ÿå¤§å®¶ä¸€èµ·åˆ†äº«å¾®æœåŠ¡Spring Boot Actuatorçš„å¸¸è§ç”¨æ³•ï¼Œæ–¹ä¾¿æˆ‘ä»¬åœ¨æ—¥å¸¸ä¸­å¯¹æˆ‘ä»¬çš„å¾®æœåŠ¡è¿›è¡Œç›‘æ§æ²»ç†ã€‚</p>

<h2 id="actuatorç›‘æ§">Actuatorç›‘æ§</h2>

<p>Spring Bootä½¿ç”¨â€œä¹ æƒ¯ä¼˜äºé…ç½®çš„ç†å¿µâ€ï¼Œé‡‡ç”¨åŒ…æ‰«æå’Œè‡ªåŠ¨åŒ–é…ç½®çš„æœºåˆ¶æ¥åŠ è½½ä¾èµ–jarä¸­çš„Spring bean,ä¸éœ€è¦ä»»ä½•Xmlé…ç½®ï¼Œå°±å¯ä»¥å®ç°Springçš„æ‰€æœ‰é…ç½®ã€‚è™½ç„¶è¿™æ ·åšèƒ½è®©æˆ‘ä»¬çš„ä»£ç å˜å¾—éå¸¸ç®€æ´ï¼Œä½†æ˜¯æ•´ä¸ªåº”ç”¨çš„å®ä¾‹åˆ›å»ºå’Œä¾èµ–å…³ç³»ç­‰ä¿¡æ¯éƒ½è¢«ç¦»æ•£åˆ°äº†å„ä¸ªé…ç½®ç±»çš„æ³¨è§£ä¸Šï¼Œè¿™ä½¿å¾—æˆ‘ä»¬åˆ†ææ•´ä¸ªåº”ç”¨ä¸­èµ„æºå’Œå®ä¾‹çš„å„ç§å…³ç³»å˜å¾—éå¸¸çš„å›°éš¾ã€‚</p>

<p>Actuatoræ˜¯Spring Bootæä¾›çš„å¯¹åº”ç”¨ç³»ç»Ÿçš„è‡ªçœå’Œç›‘æ§çš„é›†æˆåŠŸèƒ½ï¼Œå¯ä»¥æŸ¥çœ‹åº”ç”¨é…ç½®çš„è¯¦ç»†ä¿¡æ¯ï¼Œä¾‹å¦‚è‡ªåŠ¨åŒ–é…ç½®ä¿¡æ¯ã€åˆ›å»ºçš„Spring beansä»¥åŠä¸€äº›ç¯å¢ƒå±æ€§ç­‰ã€‚</p>

<p>Actuatorç›‘æ§åªéœ€è¦æ·»åŠ ä»¥ä¸‹ä¾èµ–å°±å¯ä»¥å®Œæˆ</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;dependencies&gt;</span>
	<span class="nt">&lt;dependency&gt;</span>
		<span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
		<span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-web<span class="nt">&lt;/artifactId&gt;</span>
	<span class="nt">&lt;/dependency&gt;</span>
	<span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-actuator<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
	<span class="nt">&lt;dependency&gt;</span>
	    <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
	    <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-security<span class="nt">&lt;/artifactId&gt;</span>
	<span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;/dependencies&gt;</span>
</code></pre></div></div>

<p>ä¸ºäº†ä¿è¯actuatoræš´éœ²çš„ç›‘æ§æ¥å£çš„å®‰å…¨æ€§ï¼Œéœ€è¦æ·»åŠ å®‰å…¨æ§åˆ¶çš„ä¾èµ–spring-boot-start-securityä¾èµ–ï¼Œè®¿é—®åº”ç”¨ç›‘æ§ç«¯ç‚¹æ—¶ï¼Œéƒ½éœ€è¦è¾“å…¥éªŒè¯ä¿¡æ¯ã€‚Securityä¾èµ–ï¼Œå¯ä»¥é€‰æ‹©ä¸åŠ ï¼Œä¸è¿›è¡Œå®‰å…¨ç®¡ç†ï¼Œä½†ä¸å»ºè®®è¿™ä¹ˆåšã€‚</p>

<h2 id="actuator-çš„-rest-æ¥å£">Actuator çš„ REST æ¥å£</h2>

<p>Actuatorç›‘æ§åˆ†æˆä¸¤ç±»ï¼šåŸç”Ÿç«¯ç‚¹å’Œç”¨æˆ·è‡ªå®šä¹‰ç«¯ç‚¹ï¼›è‡ªå®šä¹‰ç«¯ç‚¹ä¸»è¦æ˜¯æŒ‡æ‰©å±•æ€§ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®è‡ªå·±çš„å®é™…åº”ç”¨ï¼Œå®šä¹‰ä¸€äº›æ¯”è¾ƒå…³å¿ƒçš„æŒ‡æ ‡ï¼Œåœ¨è¿è¡ŒæœŸè¿›è¡Œç›‘æ§ã€‚</p>

<p>åŸç”Ÿç«¯ç‚¹æ˜¯åœ¨åº”ç”¨ç¨‹åºé‡Œæä¾›ä¼—å¤š Web æ¥å£ï¼Œé€šè¿‡å®ƒä»¬äº†è§£åº”ç”¨ç¨‹åºè¿è¡Œæ—¶çš„å†…éƒ¨çŠ¶å†µã€‚åŸç”Ÿç«¯ç‚¹åˆå¯ä»¥åˆ†æˆä¸‰ç±»ï¼š</p>

<ul>
  <li>åº”ç”¨é…ç½®ç±»ï¼šå¯ä»¥æŸ¥çœ‹åº”ç”¨åœ¨è¿è¡ŒæœŸçš„é™æ€ä¿¡æ¯ï¼šä¾‹å¦‚è‡ªåŠ¨é…ç½®ä¿¡æ¯ã€åŠ è½½çš„springbeanä¿¡æ¯ã€ymlæ–‡ä»¶é…ç½®ä¿¡æ¯ã€ç¯å¢ƒä¿¡æ¯ã€è¯·æ±‚æ˜ å°„ä¿¡æ¯ï¼›</li>
  <li>åº¦é‡æŒ‡æ ‡ç±»ï¼šä¸»è¦æ˜¯è¿è¡ŒæœŸçš„åŠ¨æ€ä¿¡æ¯ï¼Œä¾‹å¦‚å †æ ˆã€è¯·æ±‚è¿ã€ä¸€äº›å¥åº·æŒ‡æ ‡ã€metricsä¿¡æ¯ç­‰ï¼›</li>
  <li>æ“ä½œæ§åˆ¶ç±»ï¼šä¸»è¦æ˜¯æŒ‡shutdown,ç”¨æˆ·å¯ä»¥å‘é€ä¸€ä¸ªè¯·æ±‚å°†åº”ç”¨çš„ç›‘æ§åŠŸèƒ½å…³é—­ã€‚</li>
</ul>

<p>Actuator æä¾›äº† 13 ä¸ªæ¥å£ï¼Œå…·ä½“å¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚</p>

<table>
  <thead>
    <tr>
      <th>HTTP æ–¹æ³•</th>
      <th>è·¯å¾„</th>
      <th>æè¿°</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>GET</td>
      <td>/autoconfig</td>
      <td>æä¾›äº†ä¸€ä»½è‡ªåŠ¨é…ç½®æŠ¥å‘Šï¼Œè®°å½•å“ªäº›è‡ªåŠ¨é…ç½®æ¡ä»¶é€šè¿‡äº†ï¼Œå“ªäº›æ²¡é€šè¿‡</td>
    </tr>
    <tr>
      <td>GET</td>
      <td>/configprops</td>
      <td>æè¿°é…ç½®å±æ€§(åŒ…å«é»˜è®¤å€¼)å¦‚ä½•æ³¨å…¥Bean</td>
    </tr>
    <tr>
      <td>GET</td>
      <td>/beans</td>
      <td>æè¿°åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡é‡Œå…¨éƒ¨çš„Beanï¼Œä»¥åŠå®ƒä»¬çš„å…³ç³»</td>
    </tr>
    <tr>
      <td>GET</td>
      <td>/dump</td>
      <td>è·å–çº¿ç¨‹æ´»åŠ¨çš„å¿«ç…§</td>
    </tr>
    <tr>
      <td>GET</td>
      <td>/env</td>
      <td>è·å–å…¨éƒ¨ç¯å¢ƒå±æ€§</td>
    </tr>
    <tr>
      <td>GET</td>
      <td>/env/{name}</td>
      <td>æ ¹æ®åç§°è·å–ç‰¹å®šçš„ç¯å¢ƒå±æ€§å€¼</td>
    </tr>
    <tr>
      <td>GET</td>
      <td>/health</td>
      <td>æŠ¥å‘Šåº”ç”¨ç¨‹åºçš„å¥åº·æŒ‡æ ‡ï¼Œè¿™äº›å€¼ç”±HealthIndicatorçš„å®ç°ç±»æä¾›</td>
    </tr>
    <tr>
      <td>GET</td>
      <td>/info</td>
      <td>è·å–åº”ç”¨ç¨‹åºçš„å®šåˆ¶ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯ç”±infoæ‰“å¤´çš„å±æ€§æä¾›</td>
    </tr>
    <tr>
      <td>GET</td>
      <td>/mappings</td>
      <td>æè¿°å…¨éƒ¨çš„URIè·¯å¾„ï¼Œä»¥åŠå®ƒä»¬å’Œæ§åˆ¶å™¨(åŒ…å«Actuatorç«¯ç‚¹)çš„æ˜ å°„å…³ç³»</td>
    </tr>
    <tr>
      <td>GET</td>
      <td>/metrics</td>
      <td>æŠ¥å‘Šå„ç§åº”ç”¨ç¨‹åºåº¦é‡ä¿¡æ¯ï¼Œæ¯”å¦‚å†…å­˜ç”¨é‡å’ŒHTTPè¯·æ±‚è®¡æ•°</td>
    </tr>
    <tr>
      <td>GET</td>
      <td>/metrics/{name}</td>
      <td>æŠ¥å‘ŠæŒ‡å®šåç§°çš„åº”ç”¨ç¨‹åºåº¦é‡å€¼</td>
    </tr>
    <tr>
      <td>POST</td>
      <td>/shutdown</td>
      <td>å…³é—­åº”ç”¨ç¨‹åºï¼Œè¦æ±‚endpoints.shutdown.enabledè®¾ç½®ä¸ºtrue</td>
    </tr>
    <tr>
      <td>GET</td>
      <td>/trace</td>
      <td>æä¾›åŸºæœ¬çš„HTTPè¯·æ±‚è·Ÿè¸ªä¿¡æ¯(æ—¶é—´æˆ³ã€HTTPå¤´ç­‰)</td>
    </tr>
  </tbody>
</table>

<h2 id="å¿«é€Ÿä¸Šæ‰‹">å¿«é€Ÿä¸Šæ‰‹</h2>

<h3 id="ç›¸å…³é…ç½®">ç›¸å…³é…ç½®</h3>

<p><strong>é¡¹ç›®ä¾èµ–</strong></p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;dependencies&gt;</span>
  <span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-web<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;/dependency&gt;</span>
  <span class="nt">&lt;dependency&gt;</span>
      <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
      <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-actuator<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;/dependencies&gt;</span>
</code></pre></div></div>

<p><strong>é…ç½®æ–‡ä»¶</strong></p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>server:
  port: 8080
management:
  security:
    enabled: false #å…³æ‰å®‰å…¨è®¤è¯
  port: 8088 #ç®¡ç†ç«¯å£è°ƒæ•´æˆ8088
  context-path: /monitor #actuatorçš„è®¿é—®è·¯å¾„
endpoints:
  shutdown:
    enabled: true

info:
   app:
      name: spring-boot-actuator
      version: 1.0.0
</code></pre></div></div>

<ul>
  <li><code class="highlighter-rouge">management.security.enabled=false</code>é»˜è®¤æœ‰ä¸€éƒ¨åˆ†ä¿¡æ¯éœ€è¦å®‰å…¨éªŒè¯ä¹‹åæ‰å¯ä»¥æŸ¥çœ‹ï¼Œå¦‚æœå»æ‰è¿™äº›å®‰å…¨è®¤è¯ï¼Œç›´æ¥è®¾ç½®management.security.enabled=false</li>
  <li><code class="highlighter-rouge">management.context-path=/monitor</code> ä»£è¡¨å¯ç”¨å•ç‹¬çš„urlåœ°å€æ¥ç›‘æ§Spring Bootåº”ç”¨ï¼Œä¸ºäº†å®‰å…¨ä¸€èˆ¬éƒ½å¯ç”¨ç‹¬ç«‹çš„ç«¯å£æ¥è®¿é—®åç«¯çš„ç›‘æ§ä¿¡æ¯</li>
  <li><code class="highlighter-rouge">endpoints.shutdown.enabled=true</code> å¯ç”¨æ¥å£å…³é—­Spring Boot</li>
</ul>

<p>é…ç½®å®Œæˆä¹‹åï¼Œå¯åŠ¨é¡¹ç›®å°±å¯ä»¥ç»§ç»­éªŒè¯å„ä¸ªç›‘æ§åŠŸèƒ½äº†ã€‚</p>

<h2 id="å‘½ä»¤è¯¦è§£">å‘½ä»¤è¯¦è§£</h2>

<h3 id="autoconfig">autoconfig</h3>

<p>Spring Bootçš„è‡ªåŠ¨é…ç½®åŠŸèƒ½éå¸¸ä¾¿åˆ©ï¼Œä½†æœ‰æ—¶å€™ä¹Ÿæ„å‘³ç€å‡ºé—®é¢˜æ¯”è¾ƒéš¾æ‰¾å‡ºå…·ä½“çš„åŸå› ã€‚ä½¿ç”¨ autoconfig å¯ä»¥åœ¨åº”ç”¨è¿è¡Œæ—¶æŸ¥çœ‹ä»£ç äº†æŸä¸ªé…ç½®åœ¨ä»€ä¹ˆæ¡ä»¶ä¸‹ç”Ÿæ•ˆï¼Œæˆ–è€…æŸä¸ªè‡ªåŠ¨é…ç½®ä¸ºä»€ä¹ˆæ²¡æœ‰ç”Ÿæ•ˆã€‚</p>

<p>å¯åŠ¨ç¤ºä¾‹é¡¹ç›®ï¼Œè®¿é—®ï¼š<code class="highlighter-rouge">http://localhost:8088/monitor/autoconfig</code>è¿”å›éƒ¨åˆ†ä¿¡æ¯å¦‚ä¸‹ï¼š</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"positiveMatches"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nl">"DevToolsDataSourceAutoConfiguration"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"notMatched"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"condition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DevToolsDataSourceAutoConfiguration.DevToolsDataSourceCondition"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DevTools DataSource Condition did not find a single DataSource bean"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w"> 
            </span><span class="nl">"matched"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w"> 
        </span><span class="nl">"RemoteDevToolsAutoConfiguration"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"notMatched"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"condition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OnPropertyCondition"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"@ConditionalOnProperty (spring.devtools.remote.secret) did not find property 'secret'"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w"> 
            </span><span class="nl">"matched"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"condition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OnClassCondition"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"@ConditionalOnClass found required classes 'javax.servlet.Filter', 'org.springframework.http.server.ServerHttpRequest'; @ConditionalOnMissingClass did not find unwanted class"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="configprops">configprops</h3>

<p>æŸ¥çœ‹é…ç½®æ–‡ä»¶ä¸­è®¾ç½®çš„å±æ€§å†…å®¹ï¼Œä»¥åŠä¸€äº›é…ç½®å±æ€§çš„é»˜è®¤å€¼ã€‚</p>

<p>å¯åŠ¨ç¤ºä¾‹é¡¹ç›®ï¼Œè®¿é—®ï¼š<code class="highlighter-rouge">http://localhost:8088/monitor/configprops</code>è¿”å›éƒ¨åˆ†ä¿¡æ¯å¦‚ä¸‹ï¼š</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="err">...</span><span class="w">
  </span><span class="nl">"environmentEndpoint"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"prefix"</span><span class="p">:</span><span class="w"> </span><span class="s2">"endpoints.env"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"env"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sensitive"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"spring.http.multipart-org.springframework.boot.autoconfigure.web.MultipartProperties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"prefix"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spring.http.multipart"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"maxRequestSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10MB"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fileSizeThreshold"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"maxFileSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1MB"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"resolveLazily"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"infoEndpoint"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"prefix"</span><span class="p">:</span><span class="w"> </span><span class="s2">"endpoints.info"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"info"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sensitive"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="beans">beans</h3>

<p>æ ¹æ®ç¤ºä¾‹å°±å¯ä»¥çœ‹å‡ºï¼Œå±•ç¤ºäº†beançš„åˆ«åã€ç±»å‹ã€æ˜¯å¦å•ä¾‹ã€ç±»çš„åœ°å€ã€ä¾èµ–ç­‰ä¿¡æ¯ã€‚</p>

<p>å¯åŠ¨ç¤ºä¾‹é¡¹ç›®ï¼Œè®¿é—®ï¼š<code class="highlighter-rouge">http://localhost:8088/monitor/beans</code>è¿”å›éƒ¨åˆ†ä¿¡æ¯å¦‚ä¸‹ï¼š</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application:8080:management"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"parent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application:8080"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"beans"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"bean"</span><span class="p">:</span><span class="w"> </span><span class="s2">"embeddedServletContainerFactory"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"aliases"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"singleton"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"bean"</span><span class="p">:</span><span class="w"> </span><span class="s2">"endpointWebMvcChildContextConfiguration"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"aliases"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"singleton"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"org.springframework.boot.actuate.autoconfigure.EndpointWebMvcChildContextConfiguration$$EnhancerBySpringCGLIB$$a4a10f9d"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
  </span><span class="err">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<h3 id="dump">dump</h3>

<p>/dump æ¥å£ä¼šç”Ÿæˆå½“å‰çº¿ç¨‹æ´»åŠ¨çš„å¿«ç…§ã€‚è¿™ä¸ªåŠŸèƒ½éå¸¸å¥½ï¼Œæ–¹ä¾¿æˆ‘ä»¬åœ¨æ—¥å¸¸å®šä½é—®é¢˜çš„æ—¶å€™æŸ¥çœ‹çº¿ç¨‹çš„æƒ…å†µã€‚
ä¸»è¦å±•ç¤ºäº†çº¿ç¨‹åã€çº¿ç¨‹IDã€çº¿ç¨‹çš„çŠ¶æ€ã€æ˜¯å¦ç­‰å¾…é”èµ„æºç­‰ä¿¡æ¯ã€‚</p>

<p>å¯åŠ¨ç¤ºä¾‹é¡¹ç›®ï¼Œè®¿é—®ï¼š<code class="highlighter-rouge">http://localhost:8088/monitor/dump</code>è¿”å›éƒ¨åˆ†ä¿¡æ¯å¦‚ä¸‹ï¼š</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"threadName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http-nio-8088-exec-6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"threadId"</span><span class="p">:</span><span class="w"> </span><span class="mi">49</span><span class="p">,</span><span class="w">
    </span><span class="nl">"blockedTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"blockedCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"waitedTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"waitedCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lockName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@1630a501"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lockOwnerId"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lockOwnerName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"inNative"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"suspended"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"threadState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WAITING"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stackTrace"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"methodName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"park"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fileName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unsafe.java"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"lineNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">-2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"className"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sun.misc.Unsafe"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"nativeMethod"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"methodName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"park"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fileName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LockSupport.java"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"lineNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">175</span><span class="p">,</span><span class="w">
        </span><span class="nl">"className"</span><span class="p">:</span><span class="w"> </span><span class="s2">"java.util.concurrent.locks.LockSupport"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"nativeMethod"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"methodName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"await"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fileName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AbstractQueuedSynchronizer.java"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"lineNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">2039</span><span class="p">,</span><span class="w">
        </span><span class="nl">"className"</span><span class="p">:</span><span class="w"> </span><span class="s2">"java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"nativeMethod"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">},</span><span class="w">
       </span><span class="err">...</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"methodName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"getTask"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fileName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ThreadPoolExecutor.java"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"lineNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1067</span><span class="p">,</span><span class="w">
        </span><span class="nl">"className"</span><span class="p">:</span><span class="w"> </span><span class="s2">"java.util.concurrent.ThreadPoolExecutor"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"nativeMethod"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"methodName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"runWorker"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fileName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ThreadPoolExecutor.java"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"lineNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1127</span><span class="p">,</span><span class="w">
        </span><span class="nl">"className"</span><span class="p">:</span><span class="w"> </span><span class="s2">"java.util.concurrent.ThreadPoolExecutor"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"nativeMethod"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"methodName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"run"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fileName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ThreadPoolExecutor.java"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"lineNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">617</span><span class="p">,</span><span class="w">
        </span><span class="nl">"className"</span><span class="p">:</span><span class="w"> </span><span class="s2">"java.util.concurrent.ThreadPoolExecutor$Worker"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"nativeMethod"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"methodName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"run"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fileName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TaskThread.java"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"lineNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">61</span><span class="p">,</span><span class="w">
        </span><span class="nl">"className"</span><span class="p">:</span><span class="w"> </span><span class="s2">"org.apache.tomcat.util.threads.TaskThread$WrappingRunnable"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"nativeMethod"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"methodName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"run"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fileName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thread.java"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"lineNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">745</span><span class="p">,</span><span class="w">
        </span><span class="nl">"className"</span><span class="p">:</span><span class="w"> </span><span class="s2">"java.lang.Thread"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"nativeMethod"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"lockedMonitors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"lockedSynchronizers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"lockInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"className"</span><span class="p">:</span><span class="w"> </span><span class="s2">"java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"identityHashCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">372286721</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<h3 id="env">env</h3>

<p>å±•ç¤ºäº†ç³»ç»Ÿç¯å¢ƒå˜é‡çš„é…ç½®ä¿¡æ¯ï¼ŒåŒ…æ‹¬ä½¿ç”¨çš„ç¯å¢ƒå˜é‡ã€JVM å±æ€§ã€å‘½ä»¤è¡Œå‚æ•°ã€é¡¹ç›®ä½¿ç”¨çš„jaråŒ…ç­‰ä¿¡æ¯ã€‚å’Œconfigpropsä¸åŒçš„æ˜¯ï¼Œconfigpropså…³æ³¨äºé…ç½®ä¿¡æ¯ï¼Œenvå…³æ³¨è¿è¡Œç¯å¢ƒä¿¡æ¯ã€‚</p>

<p>å¯åŠ¨ç¤ºä¾‹é¡¹ç›®ï¼Œè®¿é—®ï¼š<code class="highlighter-rouge">http://localhost:8088/monitor/env</code>è¿”å›éƒ¨åˆ†ä¿¡æ¯å¦‚ä¸‹ï¼š</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"profiles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"server.ports"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"local.management.port"</span><span class="p">:</span><span class="w"> </span><span class="mi">8088</span><span class="p">,</span><span class="w">
    </span><span class="nl">"local.server.port"</span><span class="p">:</span><span class="w"> </span><span class="mi">8080</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"servletContextInitParams"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"systemProperties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"com.sun.management.jmxremote.authenticate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"java.runtime.name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Java(TM) SE Runtime Environment"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"spring.output.ansi.enabled"</span><span class="p">:</span><span class="w"> </span><span class="s2">"always"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sun.boot.library.path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C:</span><span class="se">\\</span><span class="s2">Program Files</span><span class="se">\\</span><span class="s2">Java</span><span class="se">\\</span><span class="s2">jdk1.8.0_101</span><span class="se">\\</span><span class="s2">jre</span><span class="se">\\</span><span class="s2">bin"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"java.vm.version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25.101-b13"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"java.vm.vendor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Oracle Corporation"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"java.vendor.url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://java.oracle.com/"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"java.rmi.server.randomIDs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"path.separator"</span><span class="p">:</span><span class="w"> </span><span class="s2">";"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"java.vm.name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Java HotSpot(TM) 64-Bit Server VM"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"file.encoding.pkg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sun.io"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user.country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CN"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user.script"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sun.java.launcher"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUN_STANDARD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sun.os.patch.level"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5268"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"com.sun.management.jmxremote.port"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60093"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"java.vm.specification.name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Java Virtual Machine Spe
</span></code></pre></div></div>

<p>ä¸ºäº†é¿å…æ•æ„Ÿä¿¡æ¯æš´éœ²åˆ° /env é‡Œï¼Œæ‰€æœ‰åä¸ºpasswordã€secretã€key(æˆ–è€…åå­—ä¸­æœ€åä¸€æ®µæ˜¯è¿™äº›)çš„å±æ€§åœ¨ /env é‡Œéƒ½ä¼šåŠ ä¸Šâ€œ*â€ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœæœ‰ä¸€ä¸ªå±æ€§åå­—æ˜¯database.passwordï¼Œé‚£ä¹ˆå®ƒåœ¨/envä¸­çš„æ˜¾ç¤ºæ•ˆæœæ˜¯è¿™æ ·çš„ï¼š</p>

<p><code class="highlighter-rouge">"database.password":"******"</code></p>

<p><strong>/env/{name}</strong>ç”¨æ³•</p>

<p>å°±æ˜¯envçš„æ‰©å±• å¯ä»¥è·å–æŒ‡å®šé…ç½®ä¿¡æ¯ï¼Œæ¯”å¦‚ï¼š<code class="highlighter-rouge">http://localhost:8088/monitor/env/java.vm.version</code>,è¿”å›ï¼š<code class="highlighter-rouge">{"java.vm.version":"25.101-b13"}</code></p>

<h3 id="health">health</h3>

<p>å¯ä»¥çœ‹åˆ° HealthEndPoint ç»™æˆ‘ä»¬æä¾›é»˜è®¤çš„ç›‘æ§ç»“æœï¼ŒåŒ…å« ç£ç›˜æ£€æµ‹å’Œæ•°æ®åº“æ£€æµ‹</p>

<p>å¯åŠ¨ç¤ºä¾‹é¡¹ç›®ï¼Œè®¿é—®ï¼š<code class="highlighter-rouge">http://localhost:8088/monitor/health</code>è¿”å›éƒ¨åˆ†ä¿¡æ¯ï¼Œä¸‹é¢çš„JSONå“åº”æ˜¯ç”±çŠ¶æ€ã€ç£ç›˜ç©ºé—´å’Œdbã€‚æè¿°äº†åº”ç”¨ç¨‹åºçš„æ•´ä½“å¥åº·çŠ¶æ€,UP è¡¨æ˜åº”ç”¨ç¨‹åºæ˜¯å¥åº·çš„ã€‚ç£ç›˜ç©ºé—´æè¿°æ€»ç£ç›˜ç©ºé—´,å‰©ä½™çš„ç£ç›˜ç©ºé—´å’Œæœ€å°é˜ˆå€¼ã€‚<code class="highlighter-rouge">application.properties</code>é˜ˆå€¼æ˜¯å¯é…ç½®çš„</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UP"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"diskSpace"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">209715195904</span><span class="p">,</span><span class="w">
    </span><span class="nl">"free"</span><span class="p">:</span><span class="w"> </span><span class="mi">183253909504</span><span class="p">,</span><span class="w">
    </span><span class="nl">"threshold"</span><span class="p">:</span><span class="w"> </span><span class="mi">10485760</span><span class="w">
  </span><span class="p">}</span><span class="w">
  </span><span class="nl">"db"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"database"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MySQL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"hello"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<blockquote>
  <p>å…¶å®çœ‹ Spring Boot-actuator æºç ï¼Œä½ ä¼šå‘ç° HealthEndPoint æä¾›çš„ä¿¡æ¯ä¸ä»…é™äºæ­¤ï¼Œorg.springframework.boot.actuate.health åŒ…ä¸‹ ä½ ä¼šå‘ç° ElasticsearchHealthIndicatorã€RedisHealthIndicatorã€RabbitHealthIndicator ç­‰</p>
</blockquote>

<h3 id="info">info</h3>

<p>infoå°±æ˜¯æˆ‘ä»¬è‡ªå·±é…ç½®åœ¨é…ç½®æ–‡ä»¶ä¸­ä»¥Infoå¼€å¤´çš„é…ç½®ä¿¡æ¯ï¼Œæ¯”å¦‚æˆ‘ä»¬åœ¨ç¤ºä¾‹é¡¹ç›®ä¸­çš„é…ç½®æ˜¯ï¼š</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>info:
   app:
      name: spring-boot-actuator
      version: 1.0.0
</code></pre></div></div>

<p>å¯åŠ¨ç¤ºä¾‹é¡¹ç›®ï¼Œè®¿é—®ï¼š<code class="highlighter-rouge">http://localhost:8088/monitor/info</code>è¿”å›éƒ¨åˆ†ä¿¡æ¯å¦‚ä¸‹ï¼š</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spring-boot-actuator"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0.0"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="mappings">mappings</h3>

<p>æè¿°å…¨éƒ¨çš„URIè·¯å¾„ï¼Œä»¥åŠå®ƒä»¬å’Œæ§åˆ¶å™¨çš„æ˜ å°„å…³ç³»</p>

<p>å¯åŠ¨ç¤ºä¾‹é¡¹ç›®ï¼Œè®¿é—®ï¼š<code class="highlighter-rouge">http://localhost:8088/monitor/mappings</code>è¿”å›éƒ¨åˆ†ä¿¡æ¯å¦‚ä¸‹ï¼š</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"/**/favicon.ico"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"bean"</span><span class="p">:</span><span class="w"> </span><span class="s2">"faviconHandlerMapping"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"{[/hello]}"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"bean"</span><span class="p">:</span><span class="w"> </span><span class="s2">"requestMappingHandlerMapping"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"public java.lang.String com.neo.controller.HelloController.index()"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"{[/error]}"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"bean"</span><span class="p">:</span><span class="w"> </span><span class="s2">"requestMappingHandlerMapping"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"public org.springframework.http.ResponseEntity&lt;java.util.Map&lt;java.lang.String, java.lang.Object&gt;&gt; org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="metrics">metrics</h3>

<p>æœ€é‡è¦çš„ç›‘æ§å†…å®¹ä¹‹ä¸€ï¼Œä¸»è¦ç›‘æ§äº†JVMå†…å®¹ä½¿ç”¨ã€GCæƒ…å†µã€ç±»åŠ è½½ä¿¡æ¯ç­‰ã€‚</p>

<p>å¯åŠ¨ç¤ºä¾‹é¡¹ç›®ï¼Œè®¿é—®ï¼š<code class="highlighter-rouge">http://localhost:8088/monitor/metrics</code>è¿”å›éƒ¨åˆ†ä¿¡æ¯å¦‚ä¸‹ï¼š</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"mem"</span><span class="p">:</span><span class="w"> </span><span class="mi">337132</span><span class="p">,</span><span class="w">
  </span><span class="nl">"mem.free"</span><span class="p">:</span><span class="w"> </span><span class="mi">183380</span><span class="p">,</span><span class="w">
  </span><span class="nl">"processors"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
  </span><span class="nl">"instance.uptime"</span><span class="p">:</span><span class="w"> </span><span class="mi">254552</span><span class="p">,</span><span class="w">
  </span><span class="nl">"uptime"</span><span class="p">:</span><span class="w"> </span><span class="mi">259702</span><span class="p">,</span><span class="w">
  </span><span class="nl">"systemload.average"</span><span class="p">:</span><span class="w"> </span><span class="mf">-1.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"heap.committed"</span><span class="p">:</span><span class="w"> </span><span class="mi">292864</span><span class="p">,</span><span class="w">
  </span><span class="nl">"heap.init"</span><span class="p">:</span><span class="w"> </span><span class="mi">129024</span><span class="p">,</span><span class="w">
  </span><span class="nl">"heap.used"</span><span class="p">:</span><span class="w"> </span><span class="mi">109483</span><span class="p">,</span><span class="w">
  </span><span class="nl">"heap"</span><span class="p">:</span><span class="w"> </span><span class="mi">1827840</span><span class="p">,</span><span class="w">
  </span><span class="nl">"nonheap.committed"</span><span class="p">:</span><span class="w"> </span><span class="mi">45248</span><span class="p">,</span><span class="w">
  </span><span class="nl">"nonheap.init"</span><span class="p">:</span><span class="w"> </span><span class="mi">2496</span><span class="p">,</span><span class="w">
  </span><span class="nl">"nonheap.used"</span><span class="p">:</span><span class="w"> </span><span class="mi">44269</span><span class="p">,</span><span class="w">
  </span><span class="nl">"nonheap"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"threads.peak"</span><span class="p">:</span><span class="w"> </span><span class="mi">63</span><span class="p">,</span><span class="w">
  </span><span class="nl">"threads.daemon"</span><span class="p">:</span><span class="w"> </span><span class="mi">43</span><span class="p">,</span><span class="w">
  </span><span class="nl">"threads.totalStarted"</span><span class="p">:</span><span class="w"> </span><span class="mi">83</span><span class="p">,</span><span class="w">
  </span><span class="nl">"threads"</span><span class="p">:</span><span class="w"> </span><span class="mi">46</span><span class="p">,</span><span class="w">
  </span><span class="nl">"classes"</span><span class="p">:</span><span class="w"> </span><span class="mi">6357</span><span class="p">,</span><span class="w">
  </span><span class="nl">"classes.loaded"</span><span class="p">:</span><span class="w"> </span><span class="mi">6357</span><span class="p">,</span><span class="w">
  </span><span class="nl">"classes.unloaded"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"gc.ps_scavenge.count"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
  </span><span class="nl">"gc.ps_scavenge.time"</span><span class="p">:</span><span class="w"> </span><span class="mi">99</span><span class="p">,</span><span class="w">
  </span><span class="nl">"gc.ps_marksweep.count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"gc.ps_marksweep.time"</span><span class="p">:</span><span class="w"> </span><span class="mi">43</span><span class="p">,</span><span class="w">
  </span><span class="nl">"httpsessions.max"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"httpsessions.active"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>å¯¹ <code class="highlighter-rouge">/metrics</code>æ¥å£æä¾›çš„ä¿¡æ¯è¿›è¡Œç®€å•åˆ†ç±»å¦‚ä¸‹è¡¨ï¼š</p>

<table>
  <thead>
    <tr>
      <th>åˆ†ç±»</th>
      <th>å‰ç¼€</th>
      <th>æŠ¥å‘Šå†…å®¹</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>åƒåœ¾æ”¶é›†å™¨</td>
      <td>gc.*</td>
      <td>å·²ç»å‘ç”Ÿè¿‡çš„åƒåœ¾æ”¶é›†æ¬¡æ•°ï¼Œä»¥åŠåƒåœ¾æ”¶é›†æ‰€è€—è´¹çš„æ—¶é—´ï¼Œé€‚ç”¨äºæ ‡è®°-æ¸…ç†åƒåœ¾æ”¶é›†å™¨å’Œå¹¶è¡Œåƒåœ¾æ”¶é›†å™¨(æ•°æ®æºè‡ªjava.lang.management. GarbageCollectorMXBean)</td>
    </tr>
    <tr>
      <td>å†…å­˜</td>
      <td>mem.*</td>
      <td>åˆ†é…ç»™åº”ç”¨ç¨‹åºçš„å†…å­˜æ•°é‡å’Œç©ºé—²çš„å†…å­˜æ•°é‡(æ•°æ®æºè‡ªjava.lang. Runtime)</td>
    </tr>
    <tr>
      <td>å †</td>
      <td>heap.*</td>
      <td>å½“å‰å†…å­˜ç”¨é‡(æ•°æ®æºè‡ªjava.lang.management.MemoryUsage)</td>
    </tr>
    <tr>
      <td>ç±»åŠ è½½å™¨</td>
      <td>classes.*</td>
      <td>JVMç±»åŠ è½½å™¨åŠ è½½ä¸å¸è½½çš„ç±»çš„æ•°é‡(æ•°æ®æºè‡ªjava.lang. management.ClassLoadingMXBean)</td>
    </tr>
    <tr>
      <td>ç³»ç»Ÿ</td>
      <td>processorsã€instance.uptimeã€uptimeã€systemload.average</td>
      <td>ç³»ç»Ÿä¿¡æ¯ï¼Œä¾‹å¦‚å¤„ç†å™¨æ•°é‡(æ•°æ®æºè‡ªjava.lang.Runtime)ã€è¿è¡Œæ—¶é—´(æ•°æ®æºè‡ªjava.lang.management.RuntimeMXBean)ã€å¹³å‡è´Ÿè½½(æ•°æ®æºè‡ªjava.lang.management.OperatingSystemMXBean)</td>
    </tr>
    <tr>
      <td>çº¿ç¨‹æ± </td>
      <td>thread.*</td>
      <td>çº¿ç¨‹ã€å®ˆæŠ¤çº¿ç¨‹çš„æ•°é‡ï¼Œä»¥åŠJVMå¯åŠ¨åçš„çº¿ç¨‹æ•°é‡å³°å€¼(æ•°æ®æºè‡ª java.lang .management.ThreadMXBean)</td>
    </tr>
    <tr>
      <td>æ•°æ®æº</td>
      <td>datasource.*</td>
      <td>æ•°æ®æºè¿æ¥çš„æ•°é‡(æºè‡ªæ•°æ®æºçš„å…ƒæ•°æ®ï¼Œä»…å½“Springåº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡é‡Œå­˜åœ¨ DataSource Bean çš„æ—¶å€™æ‰ä¼šæœ‰è¿™ä¸ªä¿¡æ¯)</td>
    </tr>
    <tr>
      <td>Tomcat ä¼šè¯</td>
      <td>httpsessions.*</td>
      <td>Tomcatçš„æ´»è·ƒä¼šè¯æ•°å’Œæœ€å¤§ä¼šè¯æ•°(æ•°æ®æºè‡ªåµŒå…¥å¼Tomcatçš„Beanï¼Œä»…åœ¨ä½¿ç”¨åµŒå…¥å¼TomcatæœåŠ¡å™¨è¿è¡Œåº”ç”¨ç¨‹åºæ—¶æ‰æœ‰è¿™ä¸ªä¿¡æ¯)</td>
    </tr>
    <tr>
      <td>HTTP</td>
      <td>counter.status.<em>ã€gauge.response.</em></td>
      <td>å¤šç§åº”ç”¨ç¨‹åºæœåŠ¡HTTPè¯·æ±‚çš„åº¦é‡å€¼ä¸è®¡æ•°å™¨</td>
    </tr>
  </tbody>
</table>

<p><strong>è§£é‡Šè¯´æ˜ï¼š</strong></p>

<ul>
  <li>
    <p>è¯·æ³¨æ„ï¼Œè¿™é‡Œçš„ä¸€äº›åº¦é‡å€¼ï¼Œæ¯”å¦‚æ•°æ®æºå’ŒTomcatä¼šè¯ï¼Œä»…åœ¨åº”ç”¨ç¨‹åºä¸­è¿è¡Œç‰¹å®šç»„ä»¶æ—¶æ‰æœ‰æ•°æ®ã€‚ä½ è¿˜å¯ä»¥æ³¨å†Œè‡ªå·±çš„åº¦é‡ä¿¡æ¯ã€‚</p>
  </li>
  <li>
    <p>HTTPçš„è®¡æ•°å™¨å’Œåº¦é‡å€¼éœ€è¦åšä¸€ç‚¹è¯´æ˜ã€‚counter.status åçš„å€¼æ˜¯HTTPçŠ¶æ€ç ï¼Œéšåæ˜¯æ‰€è¯·æ±‚çš„è·¯å¾„ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œcounter.status.200.metrics è¡¨æ˜/metricsç«¯ç‚¹è¿”å› 200(OK) çŠ¶æ€ç çš„æ¬¡æ•°ã€‚</p>
  </li>
  <li>
    <p>HTTPçš„åº¦é‡ä¿¡æ¯åœ¨ç»“æ„ä¸Šä¹Ÿå·®ä¸å¤šï¼Œå´åœ¨æŠ¥å‘Šå¦ä¸€ç±»ä¿¡æ¯ã€‚å®ƒä»¬å…¨éƒ¨ä»¥gauge.response å¼€å¤´,ï¼Œè¡¨æ˜è¿™æ˜¯HTTPå“åº”çš„åº¦é‡ä¿¡æ¯ã€‚å‰ç¼€åæ˜¯å¯¹åº”çš„è·¯å¾„ã€‚åº¦é‡å€¼æ˜¯ä»¥æ¯«ç§’ä¸ºå•ä½çš„æ—¶é—´ï¼Œåæ˜ äº†æœ€è¿‘å¤„ç†è¯¥è·¯å¾„è¯·æ±‚çš„è€—æ—¶ã€‚</p>
  </li>
  <li>
    <p>è¿™é‡Œè¿˜æœ‰å‡ ä¸ªç‰¹æ®Šçš„å€¼éœ€è¦æ³¨æ„ã€‚rootè·¯å¾„æŒ‡å‘çš„æ˜¯æ ¹è·¯å¾„æˆ–/ã€‚star-starä»£è¡¨äº†é‚£äº›Spring è®¤ä¸ºæ˜¯é™æ€èµ„æºçš„è·¯å¾„ï¼ŒåŒ…æ‹¬å›¾ç‰‡ã€JavaScriptå’Œæ ·å¼è¡¨ï¼Œå…¶ä¸­è¿˜åŒ…å«äº†é‚£äº›æ‰¾ä¸åˆ°çš„èµ„æºã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä½ ç»å¸¸ä¼šçœ‹åˆ° counter.status.404.star-starï¼Œè¿™æ˜¯è¿”å›äº†HTTP 404 (NOT FOUND) çŠ¶æ€çš„è¯·æ±‚æ•°ã€‚ã€€ã€€</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">/metrics</code>æ¥å£ä¼šè¿”å›æ‰€æœ‰çš„å¯ç”¨åº¦é‡å€¼ï¼Œä½†ä½ ä¹Ÿå¯èƒ½åªå¯¹æŸä¸ªå€¼æ„Ÿå…´è¶£ã€‚è¦è·å–å•ä¸ªå€¼ï¼Œè¯·æ±‚æ—¶å¯ä»¥åœ¨URLååŠ ä¸Šå¯¹åº”çš„é”®åã€‚ä¾‹å¦‚ï¼Œè¦æŸ¥çœ‹ç©ºé—²å†…å­˜å¤§å°,å¯ä»¥å‘<code class="highlighter-rouge">/metrics/mem.free</code>å‘ä¸€ ä¸ªGETè¯·æ±‚ã€‚ä¾‹å¦‚è®¿é—®ï¼š<code class="highlighter-rouge">http://localhost:8088/monitor/metrics/mem.free</code>ï¼Œè¿”å›ï¼š<code class="highlighter-rouge">{"mem.free":178123}</code>ã€‚</p>
  </li>
</ul>

<h3 id="shutdown">shutdown</h3>

<p>å¼€å¯æ¥å£ä¼˜é›…å…³é—­Spring Bootåº”ç”¨ï¼Œè¦ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½é¦–å…ˆéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­å¼€å¯ï¼š</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>endpoints:
  shutdown:
    enabled: true
</code></pre></div></div>

<p>é…ç½®å®Œæˆä¹‹åï¼Œå¯åŠ¨ç¤ºä¾‹é¡¹ç›®ï¼Œè®¿é—®ï¼š<code class="highlighter-rouge">http://localhost:8088/monitor/shutdown</code>è¿”å›éƒ¨åˆ†ä¿¡æ¯å¦‚ä¸‹ï¼š</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Shutting down, bye..."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>æ­¤æ—¶ä½ ä¼šå‘ç°åº”ç”¨å·²ç»è¢«å…³é—­ã€‚</p>

<h3 id="trace">trace</h3>

<p>/trace æ¥å£èƒ½æŠ¥å‘Šæ‰€æœ‰Webè¯·æ±‚çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬è¯·æ±‚æ–¹æ³•ã€è·¯å¾„ã€æ—¶é—´æˆ³ä»¥åŠè¯·æ±‚å’Œå“åº”çš„å¤´ä¿¡æ¯ï¼Œè®°å½•æ¯ä¸€æ¬¡è¯·æ±‚çš„è¯¦ç»†ä¿¡æ¯ã€‚</p>

<p>å¯åŠ¨ç¤ºä¾‹é¡¹ç›®ï¼Œå…ˆè®¿é—®ä¸€æ¬¡ï¼š<code class="highlighter-rouge">http://localhost:8080/hello</code>ï¼Œå†åˆ°æµè§ˆå™¨æ‰§è¡Œï¼š<code class="highlighter-rouge">http://localhost:8088/monitor/trace</code>æŸ¥çœ‹è¿”å›ä¿¡æ¯ï¼š</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1516780334777</span><span class="p">,</span><span class="w">
    </span><span class="nl">"info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/hello"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"headers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"request"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"localhost:8080"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"connection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"keep-alive"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"cache-control"</span><span class="p">:</span><span class="w"> </span><span class="s2">"max-age=0"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"user-agent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.84 Safari/537.36"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"upgrade-insecure-requests"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"accept"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"accept-encoding"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gzip, deflate, br"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"accept-language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"zh-CN,zh;q=0.9"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"cookie"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UM_distinctid=16053ba344f1cd-0dc220c44cc94-b7a103e-13c680-16053ba3450751; Hm_lvt_0fb30c642c5f6453f17d881f529a1141=1513076406,1514961720,1515649377; CNZZDATA1260945749=232252692-1513233181-%7C1516085149; Hm_lvt_6d8e8bb59814010152d98507a18ad229=1515247964,1515296008,1515672972,1516086283"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"X-Application-Context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application:8080"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text/html;charset=UTF-8"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"Content-Length"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"Date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wed, 24 Jan 2018 07:52:14 GMT"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"timeTaken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<p>ä¸Šè¿°ä¿¡æ¯å±•ç¤ºäº†ï¼Œ/helloè¯·æ±‚çš„è¯¦ç»†ä¿¡æ¯ã€‚</p>

<h2 id="å…¶å®ƒé…ç½®">å…¶å®ƒé…ç½®</h2>

<h3 id="æ•æ„Ÿä¿¡æ¯è®¿é—®é™åˆ¶">æ•æ„Ÿä¿¡æ¯è®¿é—®é™åˆ¶</h3>

<p>æ ¹æ®ä¸Šé¢è¡¨æ ¼ï¼Œé‰´æƒä¸ºfalseçš„ï¼Œè¡¨ç¤ºä¸æ•æ„Ÿï¼Œå¯ä»¥éšæ„è®¿é—®ï¼Œå¦åˆ™å°±æ˜¯åšäº†ä¸€äº›ä¿æŠ¤ï¼Œä¸èƒ½éšæ„è®¿é—®ã€‚</p>

<p><code class="highlighter-rouge">endpoints.mappings.sensitive=false</code></p>

<p>è¿™æ ·éœ€è¦å¯¹æ¯ä¸€ä¸ªéƒ½è®¾ç½®ï¼Œæ¯”è¾ƒéº»çƒ¦ã€‚æ•æ„Ÿæ–¹æ³•é»˜è®¤æ˜¯éœ€è¦ç”¨æˆ·æ‹¥æœ‰ACTUATORè§’è‰²ï¼Œå› æ­¤ï¼Œä¹Ÿå¯ä»¥è®¾ç½®å…³é—­å®‰å…¨é™åˆ¶ï¼š</p>

<p><code class="highlighter-rouge">management.security.enabled=false</code></p>

<p>æˆ–è€…é…åˆSpring Securityåšç»†ç²’åº¦æ§åˆ¶ã€‚</p>

<h3 id="å¯ç”¨å’Œç¦ç”¨æ¥å£">å¯ç”¨å’Œç¦ç”¨æ¥å£</h3>

<p>è™½ç„¶Actuatorçš„æ¥å£éƒ½å¾ˆæœ‰ç”¨ï¼Œä½†ä½ ä¸ä¸€å®šéœ€è¦å…¨éƒ¨è¿™äº›æ¥å£ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰æ¥å£(é™¤ äº†/shutdown)éƒ½å¯ç”¨ã€‚æ¯”å¦‚è¦ç¦ç”¨ /metrics æ¥å£ï¼Œåˆ™å¯ä»¥è®¾ç½®å¦‚ä¸‹ï¼š</p>

<p><code class="highlighter-rouge">endpoints.metrics.enabled = false</code></p>

<p>å¦‚æœä½ åªæƒ³æ‰“å¼€ä¸€ä¸¤ä¸ªæ¥å£ï¼Œé‚£å°±å…ˆç¦ç”¨å…¨éƒ¨æ¥å£ï¼Œç„¶åå¯ç”¨é‚£å‡ ä¸ªä½ è¦çš„ï¼Œè¿™æ ·æ›´æ–¹ä¾¿ã€‚</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">endpoints.enabled</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="err">endpoints.metrics.enabled</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></code></pre></div></div>

<p><strong><a href="https://github.com/ityouknow/spring-boot-examples">ç¤ºä¾‹ä»£ç -github</a></strong></p>

<p><strong><a href="https://gitee.com/ityouknow/spring-boot-examples">ç¤ºä¾‹ä»£ç -ç äº‘</a></strong></p>

<h2 id="å‚è€ƒ">å‚è€ƒ</h2>

<p><a href="https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#production-ready">Spring Boot Actuator: Production-ready features</a><br />
<a href="http://mp.163.com/v2/article/detail/D7SQCHGT0511FQO9.html">å¯¹æ²¡æœ‰ç›‘æ§çš„å¾®æœåŠ¡Say Noï¼</a>  <br />
<a href="https://www.jianshu.com/p/af9738634a21">Spring Boot Actuator ä½¿ç”¨</a></p>

:ET