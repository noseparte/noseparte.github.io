I"Ô-<h2 id="ä»€ä¹ˆæ˜¯spring-boot">ä»€ä¹ˆæ˜¯spring boot</h2>

<p>Spring Bootæ˜¯ç”±Pivotalå›¢é˜Ÿæä¾›çš„å…¨æ–°æ¡†æ¶ï¼Œå…¶è®¾è®¡ç›®çš„æ˜¯ç”¨æ¥ç®€åŒ–æ–°Springåº”ç”¨çš„åˆå§‹æ­å»ºä»¥åŠå¼€å‘è¿‡ç¨‹ã€‚è¯¥æ¡†æ¶ä½¿ç”¨äº†ç‰¹å®šçš„æ–¹å¼æ¥è¿›è¡Œé…ç½®ï¼Œä»è€Œä½¿å¼€å‘äººå‘˜ä¸å†éœ€è¦å®šä¹‰æ ·æ¿åŒ–çš„é…ç½®ã€‚ç”¨æˆ‘çš„è¯æ¥ç†è§£ï¼Œå°±æ˜¯spring bootå…¶å®ä¸æ˜¯ä»€ä¹ˆæ–°çš„æ¡†æ¶ï¼Œå®ƒé»˜è®¤é…ç½®äº†å¾ˆå¤šæ¡†æ¶çš„ä½¿ç”¨æ–¹å¼ï¼Œå°±åƒmavenæ•´åˆäº†æ‰€æœ‰çš„jaråŒ…ï¼Œspring bootæ•´åˆäº†æ‰€æœ‰çš„æ¡†æ¶ï¼ˆä¸çŸ¥é“è¿™æ ·æ¯”å–»æ˜¯å¦åˆé€‚ï¼‰ã€‚</p>

<h2 id="ä½¿ç”¨spring-bootæœ‰ä»€ä¹ˆå¥½å¤„">ä½¿ç”¨spring bootæœ‰ä»€ä¹ˆå¥½å¤„</h2>

<p>å…¶å®å°±æ˜¯ç®€å•ã€å¿«é€Ÿã€æ–¹ä¾¿ï¼å¹³æ—¶å¦‚æœæˆ‘ä»¬éœ€è¦æ­å»ºä¸€ä¸ªspring webé¡¹ç›®çš„æ—¶å€™éœ€è¦æ€ä¹ˆåšå‘¢ï¼Ÿ</p>

<ul>
  <li>1ï¼‰é…ç½®web.xmlï¼ŒåŠ è½½springå’Œspring mvc</li>
  <li>2ï¼‰é…ç½®æ•°æ®åº“è¿æ¥ã€é…ç½®springäº‹åŠ¡</li>
  <li>3ï¼‰é…ç½®åŠ è½½é…ç½®æ–‡ä»¶çš„è¯»å–ï¼Œå¼€å¯æ³¨è§£</li>
  <li>4ï¼‰é…ç½®æ—¥å¿—æ–‡ä»¶</li>
  <li>â€¦</li>
  <li>é…ç½®å®Œæˆä¹‹åéƒ¨ç½²tomcat è°ƒè¯•</li>
  <li>â€¦</li>
</ul>

<p>ç°åœ¨éå¸¸æµè¡Œå¾®æœåŠ¡ï¼Œå¦‚æœæˆ‘è¿™ä¸ªé¡¹ç›®ä»…ä»…åªæ˜¯éœ€è¦å‘é€ä¸€ä¸ªé‚®ä»¶ï¼Œå¦‚æœæˆ‘çš„é¡¹ç›®ä»…ä»…æ˜¯ç”Ÿäº§ä¸€ä¸ªç§¯åˆ†ï¼›æˆ‘éƒ½éœ€è¦è¿™æ ·æŠ˜è…¾ä¸€é!</p>

<p>ä½†æ˜¯å¦‚æœä½¿ç”¨spring bootå‘¢ï¼Ÿ<br />
å¾ˆç®€å•ï¼Œæˆ‘ä»…ä»…åªéœ€è¦éå¸¸å°‘çš„å‡ ä¸ªé…ç½®å°±å¯ä»¥è¿…é€Ÿæ–¹ä¾¿çš„æ­å»ºèµ·æ¥ä¸€å¥—webé¡¹ç›®æˆ–è€…æ˜¯æ„å»ºä¸€ä¸ªå¾®æœåŠ¡ï¼</p>

<p>ä½¿ç”¨sping bootåˆ°åº•æœ‰å¤šçˆ½ï¼Œç”¨ä¸‹é¢è¿™å¹…å›¾æ¥è¡¨è¾¾</p>

<p><img src="http://www.itmind.net/assets/images/2016/dog.jpg" alt="" /></p>

<h2 id="å¿«é€Ÿå…¥é—¨">å¿«é€Ÿå…¥é—¨</h2>

<p>è¯´äº†é‚£ä¹ˆå¤šï¼Œæ‰‹ç—’ç—’çš„å¾ˆï¼Œé©¬ä¸Šæ¥ä¸€å‘è¯•è¯•!</p>

<p><strong>mavenæ„å»ºé¡¹ç›®</strong></p>

<ul>
  <li>1ã€è®¿é—®http://start.spring.io/</li>
  <li>2ã€é€‰æ‹©æ„å»ºå·¥å…·Maven Projectã€Spring Bootç‰ˆæœ¬1.3.6ä»¥åŠä¸€äº›å·¥ç¨‹åŸºæœ¬ä¿¡æ¯ï¼Œç‚¹å‡»â€œSwitch to the full version.â€javaç‰ˆæœ¬é€‰æ‹©1.7ï¼Œå¯å‚è€ƒä¸‹å›¾æ‰€ç¤ºï¼š</li>
</ul>

<p><img src="http://www.itmind.net/assets/images/2016/springboot1.png" alt="" /></p>

<ul>
  <li>3ã€ç‚¹å‡»Generate Projectä¸‹è½½é¡¹ç›®å‹ç¼©åŒ…</li>
  <li>4ã€è§£å‹åï¼Œä½¿ç”¨eclipseï¼ŒImport -&gt; Existing Maven Projects -&gt; Next -&gt;é€‰æ‹©è§£å‹åçš„æ–‡ä»¶å¤¹-&gt; Finshï¼ŒOK done!</li>
</ul>

<p><strong>é¡¹ç›®ç»“æ„ä»‹ç»</strong></p>

<p><img src="http://www.itmind.net/assets/images/2016/springboot2.png" alt="" /></p>

<p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼ŒSpring Bootçš„åŸºç¡€ç»“æ„å…±ä¸‰ä¸ªæ–‡ä»¶:</p>
<ul>
  <li>src/main/java  ç¨‹åºå¼€å‘ä»¥åŠä¸»ç¨‹åºå…¥å£</li>
  <li>src/main/resources é…ç½®æ–‡ä»¶</li>
  <li>src/test/java  æµ‹è¯•ç¨‹åº</li>
</ul>

<p>å¦å¤–ï¼Œspingbootå»ºè®®çš„ç›®å½•ç»“æœå¦‚ä¸‹ï¼š<br />
root packageç»“æ„ï¼š<code class="highlighter-rouge">com.example.myproject</code></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">com</span>
  <span class="o">+-</span> <span class="n">example</span>
    <span class="o">+-</span> <span class="n">myproject</span>
      <span class="o">+-</span> <span class="nc">Application</span><span class="o">.</span><span class="na">java</span>
      <span class="o">|</span>
      <span class="o">+-</span> <span class="n">domain</span>
      <span class="o">|</span>  <span class="o">+-</span> <span class="nc">Customer</span><span class="o">.</span><span class="na">java</span>
      <span class="o">|</span>  <span class="o">+-</span> <span class="nc">CustomerRepository</span><span class="o">.</span><span class="na">java</span>
      <span class="o">|</span>
      <span class="o">+-</span> <span class="n">service</span>
      <span class="o">|</span>  <span class="o">+-</span> <span class="nc">CustomerService</span><span class="o">.</span><span class="na">java</span>
      <span class="o">|</span>
      <span class="o">+-</span> <span class="n">controller</span>
      <span class="o">|</span>  <span class="o">+-</span> <span class="nc">CustomerController</span><span class="o">.</span><span class="na">java</span>
      <span class="o">|</span>
</code></pre></div></div>

<ul>
  <li>1ã€Application.java å»ºè®®æ”¾åˆ°æ ¹ç›®å½•ä¸‹é¢,ä¸»è¦ç”¨äºåšä¸€äº›æ¡†æ¶é…ç½®</li>
  <li>2ã€domainç›®å½•ä¸»è¦ç”¨äºå®ä½“ï¼ˆEntityï¼‰ä¸æ•°æ®è®¿é—®å±‚ï¼ˆRepositoryï¼‰</li>
  <li>3ã€service å±‚ä¸»è¦æ˜¯ä¸šåŠ¡ç±»ä»£ç </li>
  <li>4ã€controller è´Ÿè´£é¡µé¢è®¿é—®æ§åˆ¶</li>
</ul>

<p>é‡‡ç”¨é»˜è®¤é…ç½®å¯ä»¥çœå»å¾ˆå¤šé…ç½®ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ ¹æ®è‡ªå·±çš„å–œæ¬¢æ¥è¿›è¡Œæ›´æ”¹<br />
æœ€åï¼Œå¯åŠ¨Application mainæ–¹æ³•ï¼Œè‡³æ­¤ä¸€ä¸ªjavaé¡¹ç›®æ­å»ºå¥½äº†ï¼</p>

<p><strong>å¼•å…¥webæ¨¡å—</strong></p>

<p>1ã€pom.xmlä¸­æ·»åŠ æ”¯æŒwebçš„æ¨¡å—ï¼š</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-web<span class="nt">&lt;/artifactId&gt;</span>
 <span class="nt">&lt;/dependency&gt;</span>
</code></pre></div></div>

<p>pom.xmlæ–‡ä»¶ä¸­é»˜è®¤æœ‰ä¸¤ä¸ªæ¨¡å—ï¼š</p>

<p><code class="highlighter-rouge">spring-boot-starter</code> ï¼šæ ¸å¿ƒæ¨¡å—ï¼ŒåŒ…æ‹¬è‡ªåŠ¨é…ç½®æ”¯æŒã€æ—¥å¿—å’ŒYAMLï¼›</p>

<p><code class="highlighter-rouge">spring-boot-starter-test</code> ï¼šæµ‹è¯•æ¨¡å—ï¼ŒåŒ…æ‹¬JUnitã€Hamcrestã€Mockitoã€‚</p>

<p>2ã€ç¼–å†™controllerå†…å®¹ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@RestController</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HelloWorldController</span> <span class="o">{</span>
    <span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">"/hello"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">index</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">"Hello World"</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p><code class="highlighter-rouge">@RestController</code> çš„æ„æ€å°±æ˜¯controlleré‡Œé¢çš„æ–¹æ³•éƒ½ä»¥jsonæ ¼å¼è¾“å‡ºï¼Œä¸ç”¨å†å†™ä»€ä¹ˆjackjsoné…ç½®çš„äº†ï¼</p>

<p>3ã€å¯åŠ¨ä¸»ç¨‹åºï¼Œæ‰“å¼€æµè§ˆå™¨è®¿é—®http://localhost:8080/helloï¼Œå°±å¯ä»¥çœ‹åˆ°æ•ˆæœäº†ï¼Œæœ‰æœ¨æœ‰å¾ˆç®€å•ï¼</p>

<p><strong>å¦‚ä½•åšå•å…ƒæµ‹è¯•</strong></p>

<p>æ‰“å¼€çš„src/test/ä¸‹çš„æµ‹è¯•å…¥å£ï¼Œç¼–å†™ç®€å•çš„httpè¯·æ±‚æ¥æµ‹è¯•ï¼›ä½¿ç”¨mockmvcè¿›è¡Œï¼Œåˆ©ç”¨MockMvcResultHandlers.print()æ‰“å°å‡ºæ‰§è¡Œç»“æœã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@RunWith</span><span class="o">(</span><span class="nc">SpringRunner</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="nd">@SpringBootTest</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HelloTests</span> <span class="o">{</span>

  
    <span class="kd">private</span> <span class="nc">MockMvc</span> <span class="n">mvc</span><span class="o">;</span>

    <span class="nd">@Before</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setUp</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="n">mvc</span> <span class="o">=</span> <span class="nc">MockMvcBuilders</span><span class="o">.</span><span class="na">standaloneSetup</span><span class="o">(</span><span class="k">new</span> <span class="nc">HelloWorldController</span><span class="o">()).</span><span class="na">build</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">getHello</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="n">mvc</span><span class="o">.</span><span class="na">perform</span><span class="o">(</span><span class="nc">MockMvcRequestBuilders</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"/hello"</span><span class="o">).</span><span class="na">accept</span><span class="o">(</span><span class="nc">MediaType</span><span class="o">.</span><span class="na">APPLICATION_JSON</span><span class="o">))</span>
                <span class="o">.</span><span class="na">andExpect</span><span class="o">(</span><span class="n">status</span><span class="o">().</span><span class="na">isOk</span><span class="o">())</span>
                <span class="o">.</span><span class="na">andExpect</span><span class="o">(</span><span class="n">content</span><span class="o">().</span><span class="na">string</span><span class="o">(</span><span class="n">equalTo</span><span class="o">(</span><span class="s">"Hello World"</span><span class="o">)));</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre></div></div>

<p><strong>å¼€å‘ç¯å¢ƒçš„è°ƒè¯•</strong></p>

<p>çƒ­å¯åŠ¨åœ¨æ­£å¸¸å¼€å‘é¡¹ç›®ä¸­å·²ç»å¾ˆå¸¸è§äº†å§ï¼Œè™½ç„¶å¹³æ—¶å¼€å‘webé¡¹ç›®è¿‡ç¨‹ä¸­ï¼Œæ”¹åŠ¨é¡¹ç›®å¯é‡å¯æ€»æ˜¯æŠ¥é”™ï¼›ä½†springBootå¯¹è°ƒè¯•æ”¯æŒå¾ˆå¥½ï¼Œä¿®æ”¹ä¹‹åå¯ä»¥å®æ—¶ç”Ÿæ•ˆï¼Œéœ€è¦æ·»åŠ ä»¥ä¸‹çš„é…ç½®ï¼š</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nt">&lt;dependencies&gt;</span>
    <span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>spring-boot-devtools<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;optional&gt;</span>true<span class="nt">&lt;/optional&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;/dependencies&gt;</span>

<span class="nt">&lt;build&gt;</span>
    <span class="nt">&lt;plugins&gt;</span>
        <span class="nt">&lt;plugin&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>spring-boot-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
            <span class="nt">&lt;configuration&gt;</span>
                <span class="nt">&lt;fork&gt;</span>true<span class="nt">&lt;/fork&gt;</span>
            <span class="nt">&lt;/configuration&gt;</span>
        <span class="nt">&lt;/plugin&gt;</span>
<span class="nt">&lt;/plugins&gt;</span>
<span class="nt">&lt;/build&gt;</span>
</code></pre></div></div>

<p>è¯¥æ¨¡å—åœ¨å®Œæ•´çš„æ‰“åŒ…ç¯å¢ƒä¸‹è¿è¡Œçš„æ—¶å€™ä¼šè¢«ç¦ç”¨ã€‚å¦‚æœä½ ä½¿ç”¨java -jarå¯åŠ¨åº”ç”¨æˆ–è€…ç”¨ä¸€ä¸ªç‰¹å®šçš„classloaderå¯åŠ¨ï¼Œå®ƒä¼šè®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªâ€œç”Ÿäº§ç¯å¢ƒâ€ã€‚</p>

<h2 id="æ€»ç»“">æ€»ç»“</h2>

<p>ä½¿ç”¨spring bootå¯ä»¥éå¸¸æ–¹ä¾¿ã€å¿«é€Ÿæ­å»ºé¡¹ç›®ï¼Œä½¿æˆ‘ä»¬ä¸ç”¨å…³å¿ƒæ¡†æ¶ä¹‹é—´çš„å…¼å®¹æ€§ï¼Œé€‚ç”¨ç‰ˆæœ¬ç­‰å„ç§é—®é¢˜ï¼Œæˆ‘ä»¬æƒ³ä½¿ç”¨ä»»ä½•ä¸œè¥¿ï¼Œä»…ä»…æ·»åŠ ä¸€ä¸ªé…ç½®å°±å¯ä»¥ï¼Œæ‰€ä»¥ä½¿ç”¨sping bootéå¸¸é€‚åˆæ„å»ºå¾®æœåŠ¡ã€‚</p>

<p><strong><a href="https://github.com/ityouknow/spring-boot-examples">ç¤ºä¾‹ä»£ç -github</a></strong></p>

<p><strong><a href="https://gitee.com/ityouknow/spring-boot-examples">ç¤ºä¾‹ä»£ç -ç äº‘</a></strong></p>

<hr />

<p><strong>ä½œè€…ï¼šçº¯æ´çš„å¾®ç¬‘</strong><br />
<strong>å‡ºå¤„ï¼š<a href="http://www.ityouknow.com">www.ityouknow.com</a></strong>  <br />
<strong>ç‰ˆæƒæ‰€æœ‰ï¼Œæ¬¢è¿ä¿ç•™åŸæ–‡é“¾æ¥è¿›è¡Œè½¬è½½ï¼š)</strong></p>
:ET